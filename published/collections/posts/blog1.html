<!doctype html>

<html lang="en">

	<head>

    <meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="description" content="The blog page">



<title>Rui.X's Collections-Connect to my VPN Server based on L2TP/IPsec</title>

	<script src="../js/jquery-2.1.4.min.js"></script>

	<script src="../js/jquery-ui.min.js"></script>



	<!-- Latest compiled and minified CSS -->

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">



	<!-- Optional theme -->

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">



	<!-- Latest compiled and minified JavaScript -->

	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>







    <link rel="stylesheet" href="../css/classification.css">



    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">

    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

    <script>

	$(document).ready(function() {

	$('code').each(function(i, block) {

		hljs.highlightBlock(block);

		

	});

	});

    </script>



</head>


	<body>

<div id="layout">

	
    <div class="navigator">
	<nav class="mdnav navbar navbar-default">
	<div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>
        <div class="navlogo">
        <a href="../../index.html">Homepage</a>
        </div>
		<div id="navbar" class="navbar-collapse collapse" aria-expanded="false" style="height: 1px;">
			<ul class="sections nav navbar-nav">
				<li class="section-term"><a href="../../blog/index.html">blog</a></li>
<li class="section-term md-inactive"><a href="../../collections/index.html">collections</a></li>
<li class="section-term"><a href="../../aboutme/index.html">about me</a></li>
			</ul>
		</div>
	</div>
	</nav>
    </div>


    <div class="cover">

	    
<div class="container">
        <h1><a class="" href="../index.html">Rui.X's Collections</a></h1>
        <p></p>
</div>
<div class="subnav container">
<ul>
        
<li class="dropdown mdnav"><a href="#" class="dropdown-toggle" data-toggle="dropdown">
by TAG
<span class="caret"></span></a>

<ul class="dropdown-menu" role="menu">
<li><a href="../index.html">All</a></li>
<li><a href="../tag1.html"> vpn</a></li>
<li><a href="../tag2.html">OSX</a></li>
<li><a href="../tag3.html">Octopress</a></li>
<li><a href="../tag4.html">Ubuntu</a></li>
</ul>

</li>


<li class="dropdown mdnav"><a href="#" class="dropdown-toggle" data-toggle="dropdown">
by YEAR
<span class="caret"></span></a>

<ul class="dropdown-menu" role="menu">
<li><a href="../index.html">All</a></li>
<li><a href="../year1.html">2015</a></li>
</ul>

</li>


<li class="dropdown mdnav"><a href="#" class="dropdown-toggle" data-toggle="dropdown">
by TOPIC
<span class="caret"></span></a>

<ul class="dropdown-menu" role="menu">
<li><a href="../index.html">All</a></li>
<li><a href="../topic1.html">manual</a></li>
</ul>

</li>

</ul>
</div>


    </div>



    <div class="content">

    <div class="container">

	    <section class="posts">

<h1 class="content-subhead">Ubuntu,  vpn</h1>



<header class="post-header">



<h2 class="post-title">Connect to my VPN Server based on L2TP/IPsec</h2>



<p class="post-meta">

Posted in 2015-01-01 15:00





<div class="post-content">

	<p>

	<p>Bacically I provide a VPN service based on L2TP/IPsec with a machine in my appartment. You can connect it with iOS, Mac OS, Windows, Android, Linux and so on. <br />
This is a guidance is about how to connect to my server(<a href="http://arsread.wicp.net">arsread.wicp.net</a>). For getting username, password and pre-shared key, please contact me.</p>

<p>Note:
Currently my server is set to open everyday from 6:30 to 20:00 CET, which in China Standard Time is 12:30 to 2:00 next day. </p>

<h2>iOS (iOS 7)</h2>

<p>Open Settings -> General -> VPN -> Add VPN Configuation, fill in the blanks as below:</p>

<p><p><img src="imgs/1_1.PNG"></p></p>

<p>In which <strong>Account</strong> is the username, <strong>Password</strong> is the password, and <strong>Secret</strong> is the pre-shared key.</p>

<p>Go back to Settings, switch on the "VPN" button and hence get connected.</p>

<p><p><img src="imgs/1_2.PNG"></p></p>

<h2>Mac OS (10.9)</h2>

<ol>
<li><p>Open network preference.</p>

<p><p><img src="imgs/1_3.png"></p></p></li>
<li><p>Click "+" to add a new VPN connect.</p>

<p><p><img src="imgs/1_4.png"></p></p></li>
<li><p>Fill in <strong>Server Address</strong> with <em>arsread.wicp.net</em>, <strong>Account Name</strong> with username. Click <strong>Authentication Settings</strong>, fill <strong>Password</strong> and <strong>Shared Secret</strong>.</p></li>
<li>Click OK, then click <strong>connect</strong> int the pannel.</li>
</ol>

<h2>Android (4.x)</h2>

<ol>
<li>Go to Settings &gt; Wireless &amp; networks &gt; VPN settings &gt; Add VPN &gt; Add L2TP/IPSec PSK VPN</li>
<li>Fill in the blanks:
<ul>
<li>Name: Any name you like</li>
<li>Type: L2TP/IPSec PSK</li>
<li>Server address: arsread.wicp.net</li>
<li>IPSec preshared key: the pre-shared key</li>
</ul></li>
<li>Press back, then connect using the username/password</li>
</ol>

<p>Attention:
According to <a href="https://code.google.com/p/android/issues/detail?id=23124">related issues</a>, it may not be available to connect to l2tp VPN from Android. Try <a href="https://code.google.com/p/android/issues/detail?id=23124#c264">#264 reply</a> of the issue and see if it works.</p>

<h2>Windows (Windows 7)</h2>

<ol>
<li><p>Open Network and Sharing Center.  </p>

<p><p><img src="imgs/1_5.png"></p></p></li>
<li><p>Set up a new connection or network.</p>

<p><p><img src="imgs/1_6.png"></p></p></li>
<li><p>Connect to a workplace.</p>

<p><p><img src="imgs/1_7.png"></p></p></li>
<li><p>Click "Use my Internet connection(VPN)"</p></li>
<li><p>Type "arsread.wicp.net" in Internet address and name the Destination name as you want. Remembet to check the "Don't connect now"</p>

<p><p><img src="imgs/1_8.png"></p></p></li>
<li><p>Enter the username and the password then close it.</p></li>
<li><p>Open the properties of the setting.</p>

<p><p><img src="imgs/1_9.png"></p></p></li>
<li><p>Choose "Advanced settings" in the "Security" tab.</p>

<p><p><img src="imgs/1_10.png"></p></p></li>
<li><p>In "L2TP" tab, chose "Use preshared key for authtication" and enter the pre-shared key.</p>

<p><p><img src="imgs/1_11.png"></p></p></li>
<li><p>Press "OK" and connect it from the pannel(should input the password again).</p>

<p><p><img src="imgs/1_12.png"></p></p></li>
</ol>

<p>Attention:
If you are not able to connect, try the following:
- According to <a href="http://support.microsoft.com/kb/926179">Microsoft's official document</a>, modify the regisry subkey, in my case, to 2. <br />
- If above solution doen't work, try to turn off the firewall.</p>

<h2>Linux(Ubuntu)</h2>

<p>In Ubuntu a possible to set up VPN client connection is to install l2tp-ipsec-vpn. There is a <a href="https://my.hostvpn.com/knowledgebase/11/L2TPorIPSec-Connection-from-Ubuntu-Desktop-1204.html">guidance</a> about how to install it. Believe that it is not too difficult for a linux user, hence no more details here :)</p>

<p>Attention:
In my case there will be some trouble connecting by l2tp-ipsec-vpn. If so, try <a href="https://answers.launchpad.net/l2tp-ipsec-vpn_guide_+question/183813">this solution</a> by modifying <em>"connection_name".options.xl2tpd</em>.</p>


	</p>

</div>



<div class="footer">
<div class="rightfooter"><a href="blog2.html"> Next:Set up Ubuntu 14.04 Server</a></div>
</div>

</section>


    </div>

    </div>

</div>

</body>


</html>
